(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{44:function(e,t,a){e.exports=a(87)},53:function(e,t,a){},54:function(e,t,a){},82:function(e,t){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(9),c=a.n(s),i=a(3),u=a(4),l=a(37),o=a(10),m=a(11),d={isSignedIn:null,userId:null},g=Object(u.c)({messageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{messages:[]},t=arguments.length>1?arguments[1]:void 0;return"RECIEVE_MESSAGE"===t.type||"USER_CONNECTED"===t.type?Object(m.a)({},e,{messages:[].concat(Object(o.a)(e.messages),[t.payload])}):e},authReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(m.a)({},e,{isSignedIn:!0,userDetails:t.payload});case"SIGN_OUT":return Object(m.a)({},e,{isSignedIn:!1,userDetails:null});default:return e}}}),E=(a(53),a(54),a(38)),h=a.n(E)()("wss://chatsocket490.herokuapp.com"),p=function(e){var t=e.date.getDate()+"/"+(e.date.getMonth()+1)+"/"+e.date.getFullYear()+" @ "+e.date.getHours()+":"+e.date.getMinutes()+":"+e.date.getSeconds();return r.a.createElement("div",{className:"comment"},r.a.createElement("div",{className:"content"},""===e.image?null:r.a.createElement("div",{className:"avatar"},r.a.createElement("img",{src:e.image,alt:""})),r.a.createElement("a",{className:"author",href:"www.walla.com"},e.name),r.a.createElement("div",{className:"metadata"},r.a.createElement("div",null,t)),r.a.createElement("div",{className:"text"},r.a.createElement("p",null,e.text))))},f=(a(85),function(){return r.a.createElement("div",{className:"ui sideBar segment"},r.a.createElement("button",{className:"header"},"Current Users:"),r.a.createElement("button",{className:"header"},"User 1"),r.a.createElement("button",{className:"header"},"User 2"),r.a.createElement("button",{className:"header"},"User 3"),r.a.createElement("button",{className:"header"},"User 4"),r.a.createElement("button",{className:"header"},"User 5"),r.a.createElement("button",{className:"header"},"User 6"),r.a.createElement("button",{className:"header"},"User 7"),r.a.createElement("button",{className:"header"},"User 8"),r.a.createElement("button",{className:"header"},"User 9"),r.a.createElement("button",{className:"header"},"User 10"),r.a.createElement("button",{className:"header"},"User 11"),r.a.createElement("button",{className:"header"},"User 12"))}),N=Object(i.b)((function(e){return{messages:Object(o.a)(e.messageReducer.messages)}}),{recieveMessage:function(e){return{type:"RECIEVE_MESSAGE",payload:e}},userConnected:function(e){return{type:"USER_CONNECTED",payload:e}}})((function(e){var t=e.recieveMessage,a=e.messages,s=e.userConnected;Object(n.useEffect)((function(){h.on("viewMessage",(function(e){return t(e)})),h.on("userChangedConnectionStatus",(function(e){return s(e)}))}),[t,s]);return r.a.createElement("div",{className:"ui chat-view"},r.a.createElement("div",null,r.a.createElement(f,null)),r.a.createElement("div",{className:"ui fluid comments segment container"},a.map((function(e,t){return"string"===typeof e?r.a.createElement(p,{key:t,name:"",date:new Date,text:e}):r.a.createElement(p,{key:t,name:e.senderName,date:new Date(e.date),text:e.text,image:e.image})}))))})),b=(a(86),Object(i.b)((function(e){return{auth:e.authReducer}}))((function(e){var t=e.auth;return r.a.createElement("div",{className:"ui container fluid focus input"},r.a.createElement("input",{type:"text",placeholder:"Chat",className:"input-sizing",onKeyPress:function(e){if("Enter"===e.key){var a={senderName:t.userDetails?t.userDetails.getName():"Guest",date:new Date,text:e.target.value,image:t.userDetails?t.userDetails.getImageUrl():""};e.target.value="",function(e){h.emit("subscribeMessage",e)}(a)}}}))}))),v=a(39),O=a(40),S=a(42),I=a(41),w=a(43),y=function(e){function t(){var e,a;Object(v.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(S.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).onAuthChange=function(e){e?a.props.signIn(a.auth.currentUser.get().getBasicProfile()):a.props.signOut()},a.onSignInClick=function(){a.auth.signIn()},a.onSignOutClick=function(){a.auth.signOut()},a}return Object(w.a)(t,e),Object(O.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",(function(){window.gapi.client.init({clientId:"548027089353-j03e14pvp4o81noalqup4e212iscpqlb.apps.googleusercontent.com",scope:"email profile"}).then((function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)}))}))}},{key:"renderAuthButton",value:function(){return null===this.props.isSignedIn?r.a.createElement("span",null,"There is some problem with the API"):this.props.isSignedIn?r.a.createElement("button",{onClick:this.onSignOutClick,className:"ui red google button"},r.a.createElement("i",{className:"google icon"}),"Sign Out"):r.a.createElement("div",null,r.a.createElement("button",{onClick:this.onSignInClick,className:"ui red google button"},r.a.createElement("i",{className:"google icon"}),"Sign in with Google"))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderAuthButton())}}]),t}(r.a.Component),C=Object(i.b)((function(e){return{isSignedIn:e.authReducer.isSignedIn}}),{signIn:function(e){return{type:"SIGN_IN",payload:e}},signOut:function(){return{type:"SIGN_OUT"}}})(y),U=function(){return r.a.createElement("div",{className:"ui container"},r.a.createElement("div",{className:"ui container chat"},r.a.createElement("div",{className:"ui placeholder segment"},r.a.createElement(N,null),r.a.createElement("div",{className:"ui divider"}),r.a.createElement(b,null),r.a.createElement(C,null))))},j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,k=Object(u.e)(g,j(Object(u.a)(l.a)));c.a.render(r.a.createElement(i.a,{store:k},r.a.createElement(U,null)),document.querySelector("#root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.11185096.chunk.js.map