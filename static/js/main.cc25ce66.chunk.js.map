{"version":3,"sources":["reducers/index.js","client_socket.js","components/SideBar.js","actions/index.js","components/Comment.js","components/Chat.js","components/MessageArea.js","components/TextArea.js","components/UserProfile.js","components/GoogleAuth.js","components/App.js","index.js"],"names":["INITIAL_STATE","isSignedIn","combineReducers","messageReducer","state","messages","action","type","payload","profileReducer","userListReducer","usersList","socket","openSocket","process","connect","userList","updateUsersList","currentUsersList","useEffect","on","loggedUsers","useState","modalIsOpen","setModalIsOpen","openModal","closeModal","className","map","user","buttonClass","isCurrentUser","id","socketID","createButtonClass","key","onClick","username","initWidth","initHeight","onFocus","console","log","onRequestClose","isOpen","privateChat","Comment","messageDate","image","name","text","mediaContent","date","getDate","getMonth","getFullYear","getHours","getMinutes","getSeconds","src","alt","href","height","blob","Blob","window","URL","webkitURL","createObjectURL","getMediaContentAsURL","recieveMessage","message","scrollToBottom","scrollingElement","document","querySelector","scrollTop","scrollHeight","ind","Date","senderName","MessageArea","sideBarRef","useRef","toggleRef","ref","leftIcon","current","rightIcon","style","width","visibility","classList","toggle","toggleSideBar","private","userProfile","imgFile","setImgFile","placeholder","onKeyPress","event","target","value","imgURL","emit","sendMessage","withIcon","buttonText","onChange","picture","singleImage","imgExtension","maxFileSize","createGuestUserProfile","userID","split","forEach","char","createGoogleUserProfile","googleProfile","getId","getName","getImageUrl","GoogleAuth","onAuthChange","auth","currentUser","get","getBasicProfile","props","signIn","signAsGuest","onSignInClick","onSignOutClick","signOut","gapi","load","client","init","clientId","scope","then","auth2","getAuthInstance","listen","this","renderAuthButton","React","Component","userDetails","guestDetails","App","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.cc25ce66.chunk.js","sourcesContent":["import { combineReducers } from \"redux\";\r\n\r\nconst INITIAL_STATE = {\r\n  isSignedIn: null\r\n};\r\n\r\nconst messageReducer = (state = { messages: [] }, action) => {\r\n  if (action.type === \"RECIEVE_MESSAGE\") {\r\n    return { ...state, messages: [...state.messages, action.payload] };\r\n  }\r\n  return state;\r\n};\r\n\r\nconst userListReducer = (state = { usersList: [] }, action) => {\r\n  if (action.type === \"UPDATE_USERS_LIST\") {\r\n    return {\r\n      ...state,\r\n      usersList: [...action.payload]\r\n    };\r\n  }\r\n  return state;\r\n};\r\n\r\nconst profileReducer = (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case \"SIGN_IN\":\r\n      return { ...state, isSignedIn: true, ...action.payload };\r\n    case \"SIGN_AS_GUEST\":\r\n      return { ...state, isSignedIn: false, ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default combineReducers({\r\n  messageReducer,\r\n  profileReducer,\r\n  userListReducer\r\n});\r\n","import openSocket from \"socket.io-client\";\r\n\r\nconst socket = openSocket(process.env.REACT_APP_LOCALHOST_WEBSOCKET);\r\nexport { socket };\r\n","import \"../styles/SideBar.css\";\r\nimport \"../styles/ResizableModal.css\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { updateUsersList } from \"../actions\";\r\nimport { socket } from \"../client_socket\";\r\nimport App from \"./App\";\r\nimport Modal from \"react-modal-resizable-draggable\";\r\n\r\nconst SideBar = ({ userList, updateUsersList }) => {\r\n  useEffect(() => {\r\n    socket.on(\"userListHasChanged\", loggedUsers => {\r\n      updateUsersList(loggedUsers);\r\n    });\r\n  }, [updateUsersList]);\r\n  const [modalIsOpen, setModalIsOpen] = useState(false);\r\n  const openModal = () => {\r\n    setModalIsOpen(true);\r\n  };\r\n  const closeModal = () => {\r\n    setModalIsOpen(false);\r\n  };\r\n  const chatModal = () => {\r\n    return (\r\n      <Modal\r\n        initWidth={800}\r\n        initHeight={400}\r\n        onFocus={() => console.log(\"Modal is clicked\")}\r\n        className={\"my-modal-custom-class\"}\r\n        onRequestClose={closeModal}\r\n        isOpen={modalIsOpen}\r\n      >\r\n        <App privateChat={true} />\r\n        <button onClick={closeModal}>Close modal</button>\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  const createButtonClass = user => {\r\n    const isCurrentUser = socket.id === user.socketID;\r\n    const buttonClass = `${isCurrentUser ? \"youspan\" : \"\"} logged-usr`;\r\n    return buttonClass;\r\n  };\r\n\r\n  const renderUserList = () => {\r\n    return userList.map(user => {\r\n      const buttonClass = createButtonClass(user);\r\n      return (\r\n        <button key={user.id} className={buttonClass} onClick={openModal}>\r\n          {user.username}\r\n        </button>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"ui side-bar segment\">\r\n      <button className=\"header\">Users in chat:</button>\r\n      {renderUserList()}\r\n      {chatModal()}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = ({ userListReducer }) => {\r\n  return {\r\n    userList: [...userListReducer.usersList]\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { updateUsersList })(SideBar);\r\n","export const signIn = userDetails => {\r\n  return {\r\n    type: \"SIGN_IN\",\r\n    payload: userDetails\r\n  };\r\n};\r\n\r\nexport const signAsGuest = guestDetails => {\r\n  return {\r\n    type: \"SIGN_AS_GUEST\",\r\n    payload: guestDetails\r\n  };\r\n};\r\n\r\nexport const recieveMessage = message => {\r\n  return {\r\n    type: \"RECIEVE_MESSAGE\",\r\n    payload: message\r\n  };\r\n};\r\n\r\nexport const updateUsersList = currentUsersList => {\r\n  return {\r\n    type: \"UPDATE_USERS_LIST\",\r\n    payload: currentUsersList\r\n  };\r\n};\r\n","import \"../styles/Comment.css\";\r\nimport React from \"react\";\r\n\r\nconst Comment = ({ messageDate, image, name, text, mediaContent }) => {\r\n  const date =\r\n    messageDate.getDate() +\r\n    \"/\" +\r\n    (messageDate.getMonth() + 1) +\r\n    \"/\" +\r\n    messageDate.getFullYear() +\r\n    \" @ \" +\r\n    messageDate.getHours() +\r\n    \":\" +\r\n    messageDate.getMinutes() +\r\n    \":\" +\r\n    messageDate.getSeconds();\r\n\r\n  const renderAvatar = () => {\r\n    if (image === \"\") {\r\n      return null;\r\n    }\r\n    return (\r\n      <div className=\"avatar\">\r\n        <img src={image} alt=\"\" />\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getMediaContentAsURL = (mediaContent) => {\r\n    var blob = new Blob([mediaContent], { type: \"image/jpeg\" });\r\n    var urlCreator = window.URL || window.webkitURL;\r\n    var imageUrl = urlCreator.createObjectURL(blob);\r\n    return imageUrl;\r\n  };\r\n  return (\r\n    <div className=\"comment\">\r\n      <div className=\"content\">\r\n        {renderAvatar()}\r\n        <a className=\"author\" href=\"www.walla.com\">\r\n          {name}\r\n        </a>\r\n        <div className=\"metadata\">\r\n          <div>{date}</div>\r\n        </div>\r\n        <div className=\"text\">\r\n          <p>{text}</p>\r\n          <p>\r\n            {mediaContent !== null ? (\r\n              <img\r\n                alt=\"Media Content\"\r\n                height=\"60\"\r\n                src={getMediaContentAsURL(mediaContent)}\r\n              ></img>\r\n            ) : null}\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import \"../styles/Chat.css\";\r\nimport React, { useEffect } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { recieveMessage } from \"../actions\";\r\nimport { socket } from \"../client_socket\";\r\nimport Comment from \"./Comment\";\r\n\r\nconst Chat = ({ recieveMessage, messages, privateChat }) => {\r\n  useEffect(() => {\r\n    if (!privateChat) {\r\n      socket.on(\"viewMessage\", (message) => recieveMessage(message));\r\n    }\r\n  }, [recieveMessage, privateChat]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const scrollToBottom = () => {\r\n    let scrollingElement = document.querySelector(\".comments\");\r\n    if (scrollingElement !== null) {\r\n      scrollingElement.scrollTop = scrollingElement.scrollHeight;\r\n    }\r\n  };\r\n\r\n  const renderComments = () => {\r\n    return messages.map((message, ind) => {\r\n      if (typeof message === \"string\") {\r\n        return <Comment key={ind} name={\"\"} date={new Date()} text={message} />;\r\n      }\r\n      return (\r\n        <Comment\r\n          key={ind}\r\n          name={message.senderName}\r\n          messageDate={new Date(message.date)}\r\n          text={message.text}\r\n          image={message.image}\r\n          mediaContent={message.mediaContent}\r\n        />\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"ui comments segment container\">{renderComments()}</div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    messages: [...state.messageReducer.messages],\r\n  };\r\n};\r\nexport default connect(mapStateToProps, { recieveMessage })(Chat);\r\n","import \"../styles/MessageArea.css\";\r\nimport React, { useRef } from \"react\";\r\nimport SideBar from \"./SideBar\";\r\nimport Chat from \"./Chat\";\r\n\r\nconst MessageArea = ({ privateChat }) => {\r\n  const sideBarRef = useRef(null);\r\n  const toggleRef = useRef(null);\r\n\r\n  const toggleSideBar = (sideBarRef, toggleRef) => {\r\n    const leftIcon = toggleRef.current.querySelector(\".left\");\r\n    const rightIcon = toggleRef.current.querySelector(\".right\");\r\n    if (!sideBarRef.current.style.width) {\r\n      sideBarRef.current.style.visibility = \"visible\";\r\n      sideBarRef.current.style.width = \"40%\";\r\n    } else {\r\n      sideBarRef.current.style.width = null;\r\n      sideBarRef.current.style.visibility = null;\r\n    }\r\n\r\n    leftIcon.classList.toggle(\"hidden\");\r\n    rightIcon.classList.toggle(\"hidden\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"ui top-view\">\r\n      {!privateChat ? (\r\n        <div ref={sideBarRef} className=\"side-bar-view\">\r\n          <SideBar />\r\n        </div>\r\n      ) : null}\r\n      <div className=\"chat-view\">\r\n        <div\r\n          ref={toggleRef}\r\n          className=\"open-side-bar\"\r\n          onClick={() => toggleSideBar(sideBarRef, toggleRef)}\r\n        >\r\n          <i className=\"angle double right icon\"></i>\r\n          <i className=\"angle double left icon hidden\"></i>\r\n          <i className=\"clipboard list icon\"></i>\r\n        </div>\r\n        <Chat private={privateChat} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessageArea;\r\n","import \"../styles/TextArea.css\";\r\nimport React, { useState } from \"react\";\r\nimport { socket } from \"../client_socket\";\r\nimport { connect } from \"react-redux\";\r\nimport ImageUploader from \"react-images-upload\";\r\n\r\nconst TextArea = ({ userProfile, privateChat }) => {\r\n  const [imgFile, setImgFile] = useState(null);\r\n\r\n  const sendMessage = (message) => {\r\n    if (!privateChat) {\r\n      socket.emit(\"subscribeMessage\", message);\r\n    }\r\n  };\r\n  const onSubmit = (event) => {\r\n    if (event.key === \"Enter\") {\r\n      const message = {\r\n        senderName: userProfile.username,\r\n        date: new Date(),\r\n        text: event.target.value,\r\n        mediaContent: imgFile,\r\n        image: userProfile.imgURL,\r\n      };\r\n      event.target.value = \"\";\r\n      sendMessage(message);\r\n    }\r\n  };\r\n  const onDrop = (picture) => {\r\n    setImgFile(picture[0]);\r\n  };\r\n  return (\r\n    <div className=\"ui input\">\r\n      <div className=\"ui fake-input fluid focus\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Chat\"\r\n          className=\"input-sizing\"\r\n          onKeyPress={onSubmit}\r\n        />\r\n        {imgFile !== null ? (\r\n          <img\r\n            alt=\"Media Content\"\r\n            height=\"60\"\r\n            src={URL.createObjectURL(imgFile)}\r\n          ></img>\r\n        ) : null}\r\n      </div>\r\n      <ImageUploader\r\n        withIcon={false}\r\n        buttonText=\"Choose images\"\r\n        onChange={onDrop}\r\n        singleImage={true}\r\n        imgExtension={[\".jpg\", \".gif\", \".png\", \".gif\"]}\r\n        maxFileSize={5242880}\r\n      />\r\n    </div>\r\n  );\r\n};\r\nconst mapStateToProps = (state) => {\r\n  return { userProfile: state.profileReducer };\r\n};\r\nexport default connect(mapStateToProps)(TextArea);\r\n","import { socket } from \"../client_socket\";\r\n\r\nconst createGuestUserProfile = userID => {\r\n  let username = \"\";\r\n  userID.split(\"\").forEach((char, ind) => {\r\n    if (ind % 4 === 0) {\r\n      username += char;\r\n    }\r\n  });\r\n  return {\r\n    socketID: socket.id,\r\n    id: userID,\r\n    username: `Guest ${username}`,\r\n    imgURL:\r\n      \"https://previews.123rf.com/images/lineartestpilot/lineartestpilot1908/lineartestpilot190834340/128650855-cartoon-question-mark-with-speech-bubble-in-smooth-gradient-style.jpg\"\r\n  };\r\n};\r\n\r\nconst createGoogleUserProfile = googleProfile => {\r\n  return {\r\n    socketID: socket.id,\r\n    id: googleProfile.getId(),\r\n    username: googleProfile.getName(),\r\n    imgURL: googleProfile.getImageUrl()\r\n  };\r\n};\r\n\r\nexport { createGuestUserProfile, createGoogleUserProfile };\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signIn, signAsGuest } from \"../actions\";\r\nimport { createGuestUserProfile, createGoogleUserProfile } from \"./UserProfile\";\r\nimport { socket } from \"../client_socket\";\r\n\r\nclass GoogleAuth extends React.Component {\r\n  componentDidMount() {\r\n    socket.on(\"connect\", () => {\r\n      const userProfile = createGuestUserProfile(socket.id);\r\n\r\n      window.gapi.load(\"client:auth2\", () => {\r\n        window.gapi.client\r\n          .init({\r\n            clientId:\r\n              \"548027089353-j03e14pvp4o81noalqup4e212iscpqlb.apps.googleusercontent.com\",\r\n            scope: \"email profile\"\r\n          })\r\n          .then(() => {\r\n            this.auth = window.gapi.auth2.getAuthInstance();\r\n            this.props.signAsGuest(userProfile);\r\n            this.onAuthChange(this.auth.isSignedIn.get());\r\n            this.auth.isSignedIn.listen(this.onAuthChange);\r\n          });\r\n      });\r\n    });\r\n  }\r\n\r\n  onAuthChange = isSignedIn => {\r\n    let userProfile = null;\r\n    if (isSignedIn) {\r\n      userProfile = createGoogleUserProfile(\r\n        this.auth.currentUser.get().getBasicProfile()\r\n      );\r\n      this.props.signIn(userProfile);\r\n    } else {\r\n      userProfile = createGuestUserProfile(this.props.userProfile.socketID);\r\n      this.props.signAsGuest(userProfile);\r\n    }\r\n\r\n    socket.emit(\"profileCreated\", this.props.userProfile);\r\n  };\r\n\r\n  onSignInClick = () => {\r\n    this.auth.signIn();\r\n  };\r\n\r\n  onSignOutClick = () => {\r\n    this.auth.signOut();\r\n  };\r\n  renderAuthButton() {\r\n    if (this.props.userProfile.isSignedIn === null) {\r\n      return <span>There is some problem with the API</span>;\r\n    } else if (this.props.userProfile.isSignedIn) {\r\n      return (\r\n        <button onClick={this.onSignOutClick} className=\"ui red google button\">\r\n          <i className=\"google icon\" />\r\n          Sign Out\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <div>\r\n          <button onClick={this.onSignInClick} className=\"ui red google button\">\r\n            <i className=\"google icon\" />\r\n            Sign in with Google\r\n          </button>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n  render() {\r\n    return <div>{this.renderAuthButton()}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { userProfile: state.profileReducer };\r\n};\r\nexport default connect(mapStateToProps, { signIn, signAsGuest })(GoogleAuth);\r\n","import \"../styles/App.css\";\r\nimport React, { useEffect } from \"react\";\r\nimport MessageArea from \"./MessageArea\";\r\nimport TextArea from \"./TextArea\";\r\nimport GoogleAuth from \"./GoogleAuth\";\r\nimport { socket } from \"../client_socket\";\r\n\r\nconst App = ({ privateChat }) => {\r\n  useEffect(() => () => socket.emit(\"disconnect\"), []);\r\n\r\n  return (\r\n    <div className=\"ui container\">\r\n      <div className=\"ui chat\">\r\n        <div className=\"ui placeholder segment\">\r\n          <div className=\"head-view\">\r\n            <MessageArea privateChat={privateChat} />\r\n          </div>\r\n          <div className=\"ui divider\"></div>\r\n          <div className=\"buttom-view\">\r\n            <div className=\"text-area\">\r\n              <TextArea privateChat={privateChat} />\r\n            </div>\r\n            {/* <i className=\"icon camera\"></i> */}\r\n            {!privateChat ? (\r\n              <div className=\"google-auth-area\">\r\n                <GoogleAuth />\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { Provider } from \"react-redux\";\r\nimport { createStore, applyMiddleware, compose } from \"redux\";\r\nimport reduxThunk from \"redux-thunk\";\r\n\r\nimport reducers from \"./reducers\"; // default going to index.js\r\nimport App from \"./components/App\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(\r\n  reducers,\r\n  composeEnhancers(applyMiddleware(reduxThunk))\r\n);\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App privateChat={false} />\r\n  </Provider>,\r\n  document.querySelector(\"#root\")\r\n);\r\n"],"sourceRoot":""}